var Cache=Cache||{};Cache.Common=function(c,b,a){if(!(this instanceof Cache.Common)){return new Cache.Common(c,a)}this.compare=c;this.create=b;this.max=a;this.cache=new Array(a)};Cache.Common.prototype.put=function(d){var b=this.cache;var a=b.length;for(var c=0;c<a;c++){if(!b[c]){b[c]=d;return}}if(b.length<this.max){b[b.length]=d}else{delete b[0];b[0]=d}};Cache.Common.prototype.get=function(f,e){var b=this.cache;var a=b.length;var d;for(var c=0;c<a;c++){d=b[c];if(d&&(!this.compare||this.compare(d,f,e))){b[c]=null;return d}}if(this.create){return this.create(f,e)}return null};var arrayCmp=function(a,c,b){return(a.length==c)};var Uint8ArrayCache=new Cache.Common(arrayCmp,function(b,a){return new Uint8Array(b)},5);var Uint8ClampedArrayCache=new Cache.Common(arrayCmp,function(b,a){return new Uint8ClampedArray(b)},5);var ImageDataCache=new Cache.Common(function(c,a,b){return(c.width==a&&c.height==b)},null,20);ImageDataCache.getex=function(b,a,c){var d=this.get(a,c);if(!d){d=b.createImageData(a,c)}return d};