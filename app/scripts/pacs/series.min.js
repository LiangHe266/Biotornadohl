PACS.Series=function(){if(!this instanceof PACS.Series){return new PACS.Series()}this.views=[]};PACS.Series.prototype.addView=function(a){this.views[this.views.length]=a};PACS.Series.prototype.removeView=function(a){removeObject(this.views,a)};PACS.Series.prototype.onImageloaded=function(c,e){var a=this.views.length;for(var d=0;d<a;d++){var b=this.views[d];if(b&&b.onImageLoaded){b.onImageLoaded(this,c,e)}}};PACS.Series.prototype.drawThumb=function(a){if(!this.images||!this.images.length){return}var b=this.images[this.images.length/2];b.drawThumb(a)};PACS.Series.prototype.copyBasic=function(a){this.InstitutionName=a.InstitutionName;this.SeriesDescription=a.SeriesDescription;this.SeriesNumber=a.SeriesNumber};PACS.Series.prototype.onMprEvent=function(d,g,f,e){var a=this.views.length;for(var c=a-1;c>=0;c--){var b=this.views[c];if(b&&b.onMprEvent){b.onMprEvent(d,g,f,e)}}};PACS.Series.prototype.getMprImgIdx=function(){if(this.mpr){if(this.mprAxis==AXIS_Z){return this.mpr.getZ()}else{if(this.mprAxis==AXIS_X){return this.mpr.getX()}else{if(this.mprAxis==AXIS_Y){return this.mpr.getY()}}}}return 0};PACS.Series.prototype.setImgIdx=function(a,b){if(this.mpr){this.mpr.setAxisIdx(this.mprAxis,a,b)}};PACS.Series.prototype.getImgIdx=function(){if(this.mpr){if(this.mprAxis==AXIS_Z){return this.mpr.getZ()}else{if(this.mprAxis==AXIS_X){return this.mpr.getX()}else{if(this.mprAxis==AXIS_Y){return this.mpr.getY()}}}}return 0};PACS.Series.prototype.setImgPoint=function(d,c){if(this.mpr){if(this.mprAxis==AXIS_Z){this.mpr.setAxises(d,c,this.mpr.getZ())}else{if(this.mprAxis==AXIS_X){this.mpr.setAxises(this.mpr.getX(),d,c)}else{if(this.mprAxis==AXIS_Y){this.mpr.setAxises(d,this.mpr.getY(),c)}}}}};PACS.Series.prototype.getImgPoint=function(){if(this.mpr){if(this.mprAxis==AXIS_Z){return[this.mpr.getX(),this.mpr.getY()]}else{if(this.mprAxis==AXIS_X){return[this.mpr.getY(),this.mpr.getZ()]}else{if(this.mprAxis==AXIS_Y){return[this.mpr.getX(),this.mpr.getZ()]}}}}return null};PACS.Series.prototype.isMprMode=function(){return !!this.mpr};PACS.Series.prototype.destroy=function(){delete this.images;delete this.mprAxis;if(this.destroyCallback){this.destroyCallback()}};PACS.Series.prototype.setDestroyCallback=function(a){this.destroyCallback=a};PACS.Series.prototype.isVrMode=function(){return !!this.vr};PACS.Series.prototype.isSubMprSeries=function(a){return(this.mprAxisZ&&this.mprAxisZ==a)};function extendPacsSeries(b){var a=new PACS.Series();$.extend(b,a);return a};